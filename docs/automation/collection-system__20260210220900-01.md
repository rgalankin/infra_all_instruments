---
id: 20260210220900-01
title: "Система сбора информации"
summary: >
  Три метода сбора: CLI-сканирование (скрипты), скриншот-метод (ручной),
  n8n-автоматизация (планируется). Расписание и процедуры.
type: spec
status: active
tags: [eng/automation, content/process]
source: roman
ai_weight: normal
created: 2026-02-10
updated: 2026-02-10
---
# Система сбора информации

## Обзор

Три метода поддержания базы знаний в актуальном состоянии:

| Метод | Автоматизация | Покрытие | Статус |
|-------|:------------:|---------|--------|
| CLI-сканирование | Скрипты | Приложения, brew, Ollama, MCP | ✅ Работает |
| Скриншот-метод | Ручной | UI, настройки, визуальные данные | ✅ Работает |
| n8n-воркфлоу | Автоматический | VPS, здоровье инфраструктуры | Планируется |

## 1. CLI-сканирование (скрипты)

### inventory-check.sh

Сравнивает текущее состояние системы с документацией.

```bash
# Полный аудит
bash scripts/inventory-check.sh

# По секциям
bash scripts/inventory-check.sh --apps     # /Applications vs карточки
bash scripts/inventory-check.sh --brew     # Homebrew пакеты
bash scripts/inventory-check.sh --ollama   # Ollama модели vs карточки
bash scripts/inventory-check.sh --mcp      # MCP конфиги vs карточки
```

**Выход:** дельта-отчёт (что новое, что удалено, что без карточки).

### generate-stats.sh

Статистика базы знаний: количество файлов, строк, TODO, ссылки.

```bash
bash scripts/generate-stats.sh
```

### mcp-sync.mjs (существующий)

Синхронизация MCP-конфигов между инструментами.

```bash
node scripts/mcp-sync.mjs --status
```

## 2. Скриншот-метод (ручной)

Подробное руководство: [[infra_all_instruments/docs/guides/screenshot-collection-guide__20260201200225|Руководство по скриншотам]]

### Процедура
1. Сделать скриншот интерфейса инструмента
2. Передать Claude Code / Cursor с запросом на документирование
3. AI извлекает данные из скриншота → создаёт/обновляет карточку
4. Проверить и скоммитить

### Когда использовать
- UI-настройки (не доступны через CLI)
- Версии из About-диалогов
- Визуальные конфигурации (layout, themes)

## 3. n8n-воркфлоу (планируется)

### Infrastructure Health Check (еженедельный)

```
Cron (каждое воскресенье)
    ↓
SSH → VPS Beget
    ├── docker ps (контейнеры)
    ├── df -h (диск)
    ├── docker compose version
    └── n8n /healthz
    ↓
Сравнение с документацией
    ↓
Telegram уведомление (дельта)
```

### New Tool Discovery (ежемесячный)

```
Cron (1 число месяца)
    ↓
Brave Search API → новые инструменты/интеграции
    ↓
LLM-анализ → сравнение с текущим инвентарём
    ↓
Telegram-сводка интересных находок
```

## Расписание

| Частота | Действие | Метод |
|---------|---------|-------|
| Еженедельно | `inventory-check.sh --full` | CLI |
| Еженедельно | Infrastructure Health Check | n8n (планируется) |
| Ежемесячно | `generate-stats.sh` + обзор TODO | CLI |
| Ежемесячно | New Tool Discovery | n8n (планируется) |
| По необходимости | Скриншот-метод | Ручной |
| При установке/удалении | Обновить карточку инструмента | Ручной |
| При изменении Ollama | `inventory-check.sh --ollama` | CLI |

## Links (internal)

- [[infra_all_instruments/docs/automation/_index__20260210220000-08|Автоматизация]]
- [[infra_all_instruments/docs/guides/screenshot-collection-guide__20260201200225|Руководство по скриншотам]]
- [[infra_all_instruments/docs/integrations/n8n-workflows__20260210220500-01|n8n Workflows]]

## История

- 2026-02-10: Создана документация системы сбора
