---
id: 20260201200225
title: PaddleOCR
summary: >
  OCR-сервис в Docker: распознавание русского текста, API на порту 8080, интеграция с Tesseract.
type: spec
status: active
tags: [platform/docker, eng/ocr, infra/ai]
source: roman
ai_weight: normal
created: 2026-02-01
updated: 2026-02-11
category: "AI → OCR / image processing"
version: "latest (Docker)"
criticality: medium
platform: Docker
cost: "free"
---
# PaddleOCR

## Основная информация

- **Категория:** AI → OCR / image processing
- **Версия:** latest (Docker image: `blazordevlab/paddleocrapi:latest`)
- **Статус:** активно
- **Критичность:** средняя
- **Назначение:** OCR (оптическое распознавание текста) для обработки изображений документов, особенно эффективен для русского языка

## НАСТРОЙКИ

### ОСНОВНЫЕ ПАРАМЕТРЫ
- **Образ Docker:** `blazordevlab/paddleocrapi:latest`
- **Платформа:** Docker контейнер
- **Порт:** 8080 (внешний) → 8000 (внутренний)
- **Режим работы:** production
- **Язык OCR:** русский (`OCR_LANGUAGE=ru`)

### ВЕРСИЯ И ОКРУЖЕНИЕ
- **Контейнер:** `paddleocr-api`
- **Restart policy:** `unless-stopped`
- **Timezone:** `Europe/Moscow`
- **API endpoint:** `http://localhost:8080/ocr/predict-by-file`
- **Документация API:** `http://localhost:8080/docs`

### КОНФИГУРАЦИЯ DOCKER COMPOSE

```yaml
paddleocr:
  image: blazordevlab/paddleocrapi:latest
  container_name: paddleocr-api
  restart: unless-stopped
  environment:
    - TZ=Europe/Moscow
    - OCR_LANGUAGE=ru
  ports:
    - "8080:8000"
```

**Путь к конфигурации:** `/Users/mac/Documents/kb_dev/iMac/docker-compose.yml`

## API И ИНТЕГРАЦИИ

### API НАСТРОЙКИ
- **Endpoint:** `http://localhost:8080/ocr/predict-by-file`
- **Метод:** POST
- **Content-Type:** multipart/form-data
- **Параметры:**
  - `file`: изображение (JPG, PNG)
- **Ответ:** JSON с распознанным текстом
- **Timeout:** 120 секунд

### ФОРМАТ ОТВЕТА
```json
{
  "data": [
    [
      [[bbox], ["текст", confidence]]
    ]
  ]
}
```

## ИСПОЛЬЗОВАНИЕ

### ПОДДЕРЖИВАЕМЫЕ ФОРМАТЫ
- **Входные:** JPG, JPEG, PNG
- **Не поддерживается:** PDF (требуется предварительная конвертация в изображение)

### ОСОБЕННОСТИ
- **Оптимизирован для русского языка** - лучше распознает кириллицу чем Tesseract
- **Требует простые имена файлов** - не принимает файлы с пробелами и кириллицей в имени (скрипты создают временные файлы)
- **Высокая точность** - особенно для документов с хорошим качеством

## ИНТЕГРАЦИИ

### PYTHON СКРИПТЫ
- **`process_images_paddleocr.py`** - обработка изображений через PaddleOCR API
- **`process_all_ocr_improvements.py`** - полный пайплайн улучшения OCR (PaddleOCR + Tesseract + LLM)
- **`compare_and_merge_ocr.py`** - сравнение и объединение результатов Tesseract и PaddleOCR

### СВЯЗИ С ДРУГИМИ КОМПОНЕНТАМИ
- **Tesseract OCR** - используется вместе для сравнения результатов
- **Ollama (qwen3:30b)** - LLM для улучшения и объединения результатов OCR
- **Docker Desktop** - требуется для запуска контейнера

## ПРОБЛЕМЫ И ЗАМЕЧАНИЯ

- **Требует Docker Desktop** - должен быть запущен перед использованием
- **Ограничения имен файлов** - API не принимает файлы с пробелами/кириллицей в имени (решается через временные файлы)
- **PDF не поддерживается напрямую** - требуется конвертация в изображение

## ПОТЕНЦИАЛ УЛУЧШЕНИЯ

- Добавить поддержку PDF напрямую
- Оптимизация для обработки больших объемов документов
- Кэширование результатов для повторной обработки

## Links (internal)

- [[infra_all_instruments/registry__20260210220000-01|Registry]]
- [[infra_all_instruments/docs/tools/_index__20260210220000-04|Реестр инструментов]]
- [[infra_all_instruments/docs/tools/tesseract-ocr__20260201200225|Tesseract OCR]] — парный OCR-инструмент

## История

- 2026-02-11: Миграция на новый формат карточки (YAML, Links)
- 2026-01-29: Добавлен в инфраструктуру для проекта обработки документов "Суды"
- 2026-01-29: Настроен для работы с русским языком, интегрирован в пайплайн улучшения OCR
