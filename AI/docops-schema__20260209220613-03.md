---
id: 20260209220613-03
title: DocOps-Schema — схема YAML и allowlist значений
summary: >
  Формальная схема обязательных YAML-полей DocOps и фиксированные списки допустимых значений для type, status, ai_weight. Используется агентами и линтерами для валидации документов.
type: spec
status: active
tags: [docops, docops/schema, docops/yaml, docops/allowlist, ai]
source: claude-opus-4-6
ai_weight: high
created: 2026-02-09
updated: 2026-02-09
depends_on: [docops-core__20260209220613-01]
---
# DOCOPS-SCHEMA

## 1) НАЗНАЧЕНИЕ

Фиксирует обязательные YAML-поля, форматы полей и allowlist для `type`, `status`, `ai_weight`. Любое значение, не входящее в allowlist, считается невалидным до внесения изменения в схему.

## 2) ОБЯЗАТЕЛЬНЫЕ YAML-ПОЛЯ

| Поле | Формат | Описание |
|------|--------|----------|
| `id` | `YYYYMMDDhhmmss` или `YYYYMMDDhhmmss-XX` | Уникальный идентификатор |
| `title` | строка, 3–12 слов | Человекочитаемый заголовок |
| `summary` | строка, 2–4 строки | Для решения «читать или нет» |
| `type` | из allowlist | Тип документа |
| `status` | из allowlist | Стадия жизненного цикла |
| `tags` | YAML-массив | Проект / домен / смысл |
| `source` | из allowlist | Источник документа |
| `ai_weight` | `high` / `normal` / `low` | Приоритет для AI |
| `created` | `YYYY-MM-DD` | Дата создания |
| `updated` | `YYYY-MM-DD` | Дата последнего смыслового изменения |

## 3) ALLOWLIST: TYPE

| Значение | Назначение |
|----------|------------|
| `note` | Атомарная мысль / идея / наблюдение |
| `spec` | Спецификация, ТЗ, описание системы |
| `decision` | Зафиксированное решение |
| `process` | Процесс, регламент, SOP |
| `index` | MOC / оглавление / карта знаний |
| `glossary` | Термины и определения |
| `template` | Шаблон документа / процесса |
| `archive` | Исторический материал |

## 4) ALLOWLIST: STATUS

| Значение | Назначение |
|----------|------------|
| `draft` | Черновик (не канон) |
| `active` | Актуально и используется |
| `archived` | Архив / история (не источник истины) |

## 5) ALLOWLIST: AI_WEIGHT

| Значение | Когда использовать |
|----------|-------------------|
| `high` | Канон: решения, регламенты, индексы, спецификации |
| `normal` | Рабочие документы: заметки, задачи, черновики |
| `low` | Архив, история, низкий приоритет |

## 6) ДОПОЛНИТЕЛЬНЫЕ ПОЛЯ (ОПЦИОНАЛЬНО)

- `depends_on` — список зависимостей (логические имена правил)
- `related` — список связанных документов
- `ruleset_version` — версия набора правил

## 7) ЧЕКЛИСТ ВАЛИДНОСТИ

Документ валиден, если:
- YAML присутствует и содержит все 10 обязательных полей
- `id` соответствует формату
- `type` ∈ allowlist
- `status` ∈ allowlist
- `ai_weight` ∈ {`high`, `normal`, `low`}
- `created/updated` соответствуют `YYYY-MM-DD`

---

## LINKS (INTERNAL)

- [[docops-core__20260209220613-01|DocOps-Core]] — ядро правил
- [[docops-standard__20260209220613-02|DocOps-Standard]] — полный регламент
- [[source-allowlist__20260209220613-04|Source-Allowlist]] — allowlist допустимых source
